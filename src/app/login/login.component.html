<form [formGroup]="loginForm" class="login-form">
  <h2 class="login-title">Login</h2>
  <div class="mb-3">
    <mat-form-field appearance="fill">
      <mat-label>Email</mat-label>
      <input matInput formControlName="username" type="email" aria-describedby="emailHelp">
      <mat-error *ngIf="email.invalid && (email.dirty || email.touched)">
        <span *ngIf="email.errors?.['required']">El Email es requerido.</span>
        <span *ngIf="email.errors?.['email']">El Email debe tener un formato válido.</span>
      </mat-error>
    </mat-form-field>
  </div>

  <div class="mb-3" *ngIf="showPasswordField">
    <mat-form-field appearance="fill">
      <mat-label>Password</mat-label>
      <input matInput formControlName="password" type="password">
      <mat-error *ngIf="password.invalid && (password.dirty || password.touched)">
        <span *ngIf="password.errors?.['required']">El Password es requerido.</span>
      </mat-error>
    </mat-form-field>
  </div>

  <div class="mb-3" *ngIf="isLoading">
    <mat-spinner diameter="30"></mat-spinner>
  </div>

  <div class="button-group">
    <button *ngIf="!showPasswordField && !isLoading" mat-raised-button color="primary" (click)="showPassword()">Introducir Contraseña</button>
    <button *ngIf="showPasswordField" mat-raised-button color="primary" class="btn-login" (click)="login()">Iniciar Sesión</button>
    <button mat-raised-button color="accent" class="btn-register" (click)="registrarse()">Registrarse</button>
  </div>
</form>
